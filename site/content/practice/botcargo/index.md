+++
title = 'BotCargo'
draft = false
+++

### Описание проекта{#description}

Недалекое будущее. Botcargo — это сервис рободоставки. Сервис доставляет грузы в радиусе 50 километров с помощью наземных и воздушных дронов.
У сервиса есть клиентские приложения для всех доступных на рынке платформ. Клиентское приложение Botcargo является сложным, поскольку в приложении несколько источников действий и/или изменений состояния – [акторов](https://ru.wikipedia.org/wiki/Актор_(UML) "Актор – Википедия"), а также есть локальное состояние, которое нужно синхронизировать с бекендом ([https://api.botcargo.ru](https://api.botcargo.ru)). Также приложение умеет обрабатывать ошибки, в частности, при получении ошибки авторизации (код 401) на любом запросе выполняет автоматический логаут.

### Диаграмма прецедентов{#use-case-diagram}

Пользователь может:
- регистрироваться и упралять доставками (заказывать, оплачивать, активировать и т.п). Актором является пользователь – нажимает на кнопки;
- отслеживать текущие доставки в реальном времени. Актором является сервер – присылает периодические обновления статуса доставок;
- сохранять избранные адреса и историю заказов. Данные хранятся на бекенде, но кешируются в приложении для ускорения запуска.

{{< themed-image src="images/use_cases.svg" title="Диаграмма прецедентов клиентского приложения botcargo.ru." >}}

Доставка обновлений статуса доставок на клиентское приложение может осуществляться через polling (HTTP-запрос в цикле по таймеру) либо через TCP-соединение. Важно, чтобы это происходило автоматически, без участия пользователя. Этот факт и отражается на диаграмме прецедентов в виде отдельного актора — сервера. Сервер в коде приложения представлен [сервисом]({{<ref "/service#definition">}} "Сервис – rossmanual.com"), который обновляет статус доставок и выполняет логаут в случае обрабатывает 401-ю ошибки на очередном цикле обновления.

*Раздел находится в разработке.*
